!function(t,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var e=r();for(var n in e)("object"==typeof exports?exports:t)[n]=e[n]}}(this,function(){return function(t){function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var e={};return r.m=t,r.c=e,r.p="",r(0)}({0:function(t,r,e){t.exports=e(54)},1:function(t,r){"use strict";var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},funcOrValue:function(t,r){if("function"==typeof t){var e=t.call(r);return e}return t},execFuncs:function(t,r,n){if(t&&(e.isArray(n)||(n=[n])),"function"==typeof t)return t.apply(r,n);if(e.isArray(t)){var o=[];return t.forEach(function(t){o.push(t&&t.apply(r,n))}),o}},blend:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pointInRect:function(t,r,e,n,o,a){return!(e>t||t>n||o>r||r>a)},firstValuable:function(t,r,e){return void 0===t?void 0===r?e:r:t}};t.exports=e},3:function(t,r){"use strict";var e=3.141593;t.exports=function(t,r,n,o,a,i){var c=a?-a/180*e:0,s=(t-n)*Math.cos(c)-(r-o)*Math.sin(c)+n,u=(t-n)*Math.sin(c)+(r-o)*Math.cos(c)+o;return i?[s,u]:{x:s,y:u}}},5:function(t,r){"use strict";function e(t,r){if(t&&t.match(/^data:/))return void(r&&r(t));if(o[t])return void(o[t]!==n?r(o[t]):setTimeout(function(){e(t,r)},100));o[t]=n;var a=new XMLHttpRequest;a.onload=function(){var e=new FileReader;e.onloadend=function(){o[t]=e.result,r&&r(e.result)},e.readAsDataURL(a.response)},a.open("GET",t),a.responseType="blob",a.send()}var n="processing",o={};t.exports=e},25:function(t,r){"use strict";t.exports=function(){function t(t,r,e){e=e||new Float32Array(16);var n=r[0],o=r[1],a=r[2],i=r[3],c=r[4],s=r[5],u=r[6],l=r[7],f=r[8],v=r[9],d=r[10],h=r[11],g=r[12],p=r[13],m=r[14],A=r[15],x=t[0],_=t[1],w=t[2],y=t[3],R=t[4],b=t[5],E=t[6],T=t[7],F=t[8],L=t[9],M=t[10],B=t[11],D=t[12],U=t[13],P=t[14],S=t[15];return e[0]=n*x+o*R+a*F+i*D,e[1]=n*_+o*b+a*L+i*U,e[2]=n*w+o*E+a*M+i*P,e[3]=n*y+o*T+a*B+i*S,e[4]=c*x+s*R+u*F+l*D,e[5]=c*_+s*b+u*L+l*U,e[6]=c*w+s*E+u*M+l*P,e[7]=c*y+s*T+u*B+l*S,e[8]=f*x+v*R+d*F+h*D,e[9]=f*_+v*b+d*L+h*U,e[10]=f*w+v*E+d*M+h*P,e[11]=f*y+v*T+d*B+h*S,e[12]=g*x+p*R+m*F+A*D,e[13]=g*_+p*b+m*L+A*U,e[14]=g*w+p*E+m*M+A*P,e[15]=g*y+p*T+m*B+A*S,e}function r(t,r,e){return e=e||new Float32Array(3),e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function e(t,r,e){return e=e||new Float32Array(3),e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function n(t,r){r=r||new Float32Array(3);var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return e>1e-5&&(r[0]=t[0]/e,r[1]=t[1]/e,r[2]=t[2]/e),r}function o(t,r,e){return e=e||new Float32Array(3),e[0]=t[1]*r[2]-t[2]*r[1],e[1]=t[2]*r[0]-t[0]*r[2],e[2]=t[0]*r[1]-t[1]*r[0],e}function a(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function i(t,r){var e=t[0]-r[0],n=t[1]-r[1],o=t[2]-r[2];return e*e+n*n+o*o}function c(t,r){return Math.sqrt(i(t,r))}function s(t){return t=t||new Float32Array(16),t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t,r){return r=r||new Float32Array(16),r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15],r}function l(t,r,a,i){i=i||new Float32Array(16);var c=n(e(t,r)),s=n(o(a,c)),u=n(o(c,s));return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=0,i[4]=u[0],i[5]=u[1],i[6]=u[2],i[7]=0,i[8]=c[0],i[9]=c[1],i[10]=c[2],i[11]=0,i[12]=t[0],i[13]=t[1],i[14]=t[2],i[15]=1,i}function f(t,r,e,n,o){o=o||new Float32Array(16);var a=Math.tan(.5*Math.PI-.5*t),i=1/(e-n);return o[0]=a/r,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=a,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(e+n)*i,o[11]=-1,o[12]=0,o[13]=0,o[14]=e*n*i*2,o[15]=0,o}function v(t,r,e,n,o,a,i){return i=i||new Float32Array(16),i[0]=2/(r-t),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(n-e),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(o-a),i[11]=0,i[12]=(t+r)/(t-r),i[13]=(e+n)/(e-n),i[14]=(o+a)/(o-a),i[15]=1,i}function d(t,r,e,n,o,a){var i=r-t,c=n-e,s=a-o;return dst[0]=2*o/i,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=2*o/c,dst[6]=0,dst[7]=0,dst[8]=(t+r)/i,dst[9]=(n+e)/c,dst[10]=-(a+o)/s,dst[11]=-1,dst[12]=0,dst[13]=0,dst[14]=-2*o*a/s,dst[15]=0,dst}function h(t,r,e,n){return n=n||new Float32Array(16),n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=t,n[13]=r,n[14]=e,n[15]=1,n}function g(t,r,e,n,o){o=o||new Float32Array(16);var a=t[0],i=t[1],c=t[2],s=t[3],u=t[4],l=t[5],f=t[6],v=t[7],d=t[8],h=t[9],g=t[10],p=t[11],m=t[12],A=t[13],x=t[14],_=t[15];return t!==o&&(o[0]=a,o[1]=i,o[2]=c,o[3]=s,o[4]=u,o[5]=l,o[6]=f,o[7]=v,o[8]=d,o[9]=h,o[10]=g,o[11]=p),o[12]=a*r+u*e+d*n+m,o[13]=i*r+l*e+h*n+A,o[14]=c*r+f*e+g*n+x,o[15]=s*r+v*e+p*n+_,o}function p(t,r){r=r||new Float32Array(16);var e=Math.cos(t),n=Math.sin(t);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e,r[6]=n,r[7]=0,r[8]=0,r[9]=-n,r[10]=e,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function m(t,r,e){e=e||new Float32Array(16);var n=t[4],o=t[5],a=t[6],i=t[7],c=t[8],s=t[9],u=t[10],l=t[11],f=Math.cos(r),v=Math.sin(r);return e[4]=f*n+v*c,e[5]=f*o+v*s,e[6]=f*a+v*u,e[7]=f*i+v*l,e[8]=f*c-v*n,e[9]=f*s-v*o,e[10]=f*u-v*a,e[11]=f*l-v*i,t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e}function A(t,r){r=r||new Float32Array(16);var e=Math.cos(t),n=Math.sin(t);return r[0]=e,r[1]=0,r[2]=-n,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=n,r[9]=0,r[10]=e,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function x(t,r,e){e=e||new Float32Array(16);var n=t[0],o=t[1],a=t[2],i=t[3],c=t[8],s=t[9],u=t[10],l=t[11],f=Math.cos(r),v=Math.sin(r);return e[0]=f*n-v*c,e[1]=f*o-v*s,e[2]=f*a-v*u,e[3]=f*i-v*l,e[8]=f*c+v*n,e[9]=f*s+v*o,e[10]=f*u+v*a,e[11]=f*l+v*i,t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e}function _(t,r){r=r||new Float32Array(16);var e=Math.cos(t),n=Math.sin(t);return r[0]=e,r[1]=n,r[2]=0,r[3]=0,r[4]=-n,r[5]=e,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function w(t,r,e){e=e||new Float32Array(16);var n=t[0],o=t[1],a=t[2],i=t[3],c=t[4],s=t[5],u=t[6],l=t[7],f=Math.cos(r),v=Math.sin(r);return e[0]=f*n+v*c,e[1]=f*o+v*s,e[2]=f*a+v*u,e[3]=f*i+v*l,e[4]=f*c-v*n,e[5]=f*s-v*o,e[6]=f*u-v*a,e[7]=f*l-v*i,t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e}function y(t,r,e){e=e||new Float32Array(16);var n=t[0],o=t[1],a=t[2],i=Math.sqrt(n*n+o*o+a*a);n/=i,o/=i,a/=i;var c=n*n,s=o*o,u=a*a,l=Math.cos(r),f=Math.sin(r),v=1-l;return e[0]=c+(1-c)*l,e[1]=n*o*v+a*f,e[2]=n*a*v-o*f,e[3]=0,e[4]=n*o*v-a*f,e[5]=s+(1-s)*l,e[6]=o*a*v+n*f,e[7]=0,e[8]=n*a*v+o*f,e[9]=o*a*v-n*f,e[10]=u+(1-u)*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function R(t,r,e,n){n=n||new Float32Array(16);var o=r[0],a=r[1],i=r[2],c=Math.sqrt(o*o+a*a+i*i);o/=c,a/=c,i/=c;var s=o*o,u=a*a,l=i*i,f=Math.cos(e),v=Math.sin(e),d=1-f,h=s+(1-s)*f,g=o*a*d+i*v,p=o*i*d-a*v,m=o*a*d-i*v,A=u+(1-u)*f,x=a*i*d+o*v,_=o*i*d+a*v,w=a*i*d-o*v,y=l+(1-l)*f,R=t[0],b=t[1],E=t[2],T=t[3],F=t[4],L=t[5],M=t[6],B=t[7],D=t[8],U=t[9],P=t[10],S=t[11];return n[0]=h*R+g*F+p*D,n[1]=h*b+g*L+p*U,n[2]=h*E+g*M+p*P,n[3]=h*T+g*B+p*S,n[4]=m*R+A*F+x*D,n[5]=m*b+A*L+x*U,n[6]=m*E+A*M+x*P,n[7]=m*T+A*B+x*S,n[8]=_*R+w*F+y*D,n[9]=_*b+w*L+y*U,n[10]=_*E+w*M+y*P,n[11]=_*T+w*B+y*S,t!==n&&(n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n}function b(t,r,e,n){return n=n||new Float32Array(16),n[0]=t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=r,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function E(t,r,e,n,o){return o=o||new Float32Array(16),o[0]=r*t[0],o[1]=r*t[1],o[2]=r*t[2],o[3]=r*t[3],o[4]=e*t[4],o[5]=e*t[5],o[6]=e*t[6],o[7]=e*t[7],o[8]=n*t[8],o[9]=n*t[9],o[10]=n*t[10],o[11]=n*t[11],t!==o&&(o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o}function T(t,r){r=r||new Float32Array(16);var e=t[0],n=t[1],o=t[2],a=t[3],i=t[4],c=t[5],s=t[6],u=t[7],l=t[8],f=t[9],v=t[10],d=t[11],h=t[12],g=t[13],p=t[14],m=t[15],A=v*m,x=p*d,_=s*m,w=p*u,y=s*d,R=v*u,b=o*m,E=p*a,T=o*d,F=v*a,L=o*u,M=s*a,B=l*g,D=h*f,U=i*g,P=h*c,S=i*f,$=l*c,I=e*g,N=h*n,O=e*f,C=l*n,V=e*c,z=i*n,Y=A*c+w*f+y*g-(x*c+_*f+R*g),X=x*n+b*f+F*g-(A*n+E*f+T*g),G=_*n+E*c+L*g-(w*n+b*c+M*g),j=R*n+T*c+M*f-(y*n+F*c+L*f),W=1/(e*Y+i*X+l*G+h*j);return r[0]=W*Y,r[1]=W*X,r[2]=W*G,r[3]=W*j,r[4]=W*(x*i+_*l+R*h-(A*i+w*l+y*h)),r[5]=W*(A*e+E*l+T*h-(x*e+b*l+F*h)),r[6]=W*(w*e+b*i+M*h-(_*e+E*i+L*h)),r[7]=W*(y*e+F*i+L*l-(R*e+T*i+M*l)),r[8]=W*(B*u+P*d+S*m-(D*u+U*d+$*m)),r[9]=W*(D*a+I*d+C*m-(B*a+N*d+O*m)),r[10]=W*(U*a+N*u+V*m-(P*a+I*u+z*m)),r[11]=W*($*a+O*u+z*d-(S*a+C*u+V*d)),r[12]=W*(U*v+$*p+D*s-(S*p+B*s+P*v)),r[13]=W*(O*p+B*o+N*v-(I*v+C*p+D*o)),r[14]=W*(I*s+z*p+P*o-(V*p+U*o+N*s)),r[15]=W*(V*v+S*o+C*s-(O*s+z*v+$*o)),r}function F(t,r,e){e=e||new Float32Array(4);for(var n=0;4>n;++n){e[n]=0;for(var o=0;4>o;++o)e[n]+=r[o]*t[4*o+n]}return e}function L(t,r,e){e=e||new Float32Array(3);var n=r[0],o=r[1],a=r[2],i=n*t[3]+o*t[7]+a*t[11]+t[15];return e[0]=(n*t[0]+o*t[4]+a*t[8]+t[12])/i,e[1]=(n*t[1]+o*t[5]+a*t[9]+t[13])/i,e[2]=(n*t[2]+o*t[6]+a*t[10]+t[14])/i,e}function M(t,r,e){e=e||new Float32Array(3);var n=r[0],o=r[1],a=r[2];return e[0]=n*t[0]+o*t[4]+a*t[8],e[1]=n*t[1]+o*t[5]+a*t[9],e[2]=n*t[2]+o*t[6]+a*t[10],e}function B(t,r,e){e=e||new Float32Array(3);var n=T(t),o=r[0],a=r[1],i=r[2];return e[0]=o*n[0]+a*n[1]+i*n[2],e[1]=o*n[4]+a*n[5]+i*n[6],e[2]=o*n[8]+a*n[9]+i*n[10],e}function D(t,r){return r=r||new Float32Array(16),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}return{copy:D,lookAt:l,addVectors:r,subtractVectors:e,distance:c,distanceSq:i,normalize:n,cross:o,dot:a,identity:s,transpose:u,orthographic:v,frustum:d,perspective:f,translation:h,translate:g,xRotation:p,yRotation:A,zRotation:_,xRotate:m,yRotate:x,zRotate:w,axisRotation:y,axisRotate:R,scaling:b,scale:E,multiply:t,inverse:T,transformVector:F,transformPoint:L,transformDirection:M,transformNormal:B}}},54:function(t,r,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return t*Math.PI/180}var a,i=Object.assign||function(t){for(var r=1;arguments.length>r;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},c=e(25),s=n(c),u=e(64),l=n(u),f=e(63),v=n(f),d=e(1),h=n(d),g=e(66),p=n(g),m=e(5),A=n(m),x=(0,s.default)(),_="undefined"!=typeof window,w=function(t){console.error("[Easycanvas-webgl] "+t)},y=function(){var t={};return function(r,e,n,o){var a=""+e+n+o;if(t[a])return t[a];var i=v.default.factory(r,e)(n,o),c=r.createShader(e);if(r.shaderSource(c,i),r.compileShader(c),!r.getShaderParameter(c,r.COMPILE_STATUS)){var s=r.getShaderInfoLog(c);throw"Could not compile WebGL program. \n\n"+s}return t[a]=c,c}}(),R=function(t,r,e){var n=t.createProgram();if(t.attachShader(n,r),t.attachShader(n,e),t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS)){var o=t.getProgramInfoLog(n);throw"Could not compile WebGL program. \n\n"+o}return n},b=function(){var t;return function(r,e,n){if(t!==e){t=e;var o,a;o=y(r,r.VERTEX_SHADER,e,n),a=y(r,r.FRAGMENT_SHADER,e,n),r.program=R(r,o,a),r.useProgram(r.program),r.positionLocation=r.getAttribLocation(r.program,"a_position"),r.normalLocation=r.getAttribLocation(r.program,"a_normal"),0===e?r.colorLocation=r.getAttribLocation(r.program,"a_color"):r.texcoordLocation=r.getAttribLocation(r.program,"a_texcoord"),r.worldViewProjectionLocation=r.getUniformLocation(r.program,"u_worldViewProjection"),r.worldInverseTransposeLocation=r.getUniformLocation(r.program,"u_worldInverseTranspose"),r.reverseLightDirectionLocation=r.getUniformLocation(r.program,"u_reverseLightDirection"),r.matrixLocation=r.getUniformLocation(r.program,"u_matrix"),0===e?r.textureLocation=r.getUniformLocation(r.program,"u_texture"):r.textureMatrixLocation=r.getUniformLocation(r.program,"u_textureMatrix"),r.enableVertexAttribArray(r.positionLocation),r.enableVertexAttribArray(r.normalLocation),r.enableVertexAttribArray(r.texcoordLocation),r.enableVertexAttribArray(r.colorLocation)}}}(),E={},T=function(t,r,e){var n=t.props,o=t.webgl,a=e.$gl;if("production"!==process.env.NODE_ENV&&n&&n[0]&&!n[0].texture&&n[0].src&&w("Texture not found, make sure using Painter.imgLoader instead of Easycanvas.imgLoader."),"3d"!==t.type){if(!n[0]&&n.content){var i=n.content+n.font+n.align+n.color,c=E[i];if(!c){var s=a.createTexture(),u=document.createElement("canvas").getContext("2d");u.clearRect(0,0,u.canvas.width,u.canvas.height),u.canvas.width=n.content.length*parseInt(n.font)*2,u.canvas.height=parseInt(n.font)+5,u.font=n.font,u.textAlign=n.align,u.fillStyle=n.color,u.fillText(n.content,"right"===n.align?u.canvas.width:"center"===n.align?u.canvas.width/2:0,u.canvas.height-5),a.bindTexture(a.TEXTURE_2D,s),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,u.canvas),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),c=E[i]={texture:s,width:u.canvas.width,height:u.canvas.height,img:u.canvas,canvas:u.canvas}}n=[c,0,0,c.canvas.width,c.canvas.height,"right"===n.align?n.tx-c.canvas.width:"center"===n.align?n.tx-c.canvas.width/2:n.tx,n.ty-c.canvas.height+5,c.canvas.width,c.canvas.height]}if(n[0]&&n[0].texture){var l=(0,p.default)(n[5],n[6],n[7],n[8],0,0,e.width,e.height,r.beforeRotate&&r.beforeRotate[0],r.beforeRotate&&r.beforeRotate[1],r.rotate);if(!l)return;if(0===n[0].img.width)return;a.bindTexture(a.TEXTURE_2D,n[0].texture),L(e,n[0].texture,n[0].width,n[0].height,n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],r)}}else if("3d"===t.type&&(o.img||o.colors)){o.img&&o.img.texture&&a.bindTexture(a.TEXTURE_2D,o.img.texture);var f=1.8*o.longSide,v=e.webgl.depth,l=(0,p.default)(o.tx-f,o.ty-f,2*f,2*f,o.tz/v*e.width/2,o.tz/v*e.height/2,e.width-o.tz/v*e.width/2,e.height-o.tz/v*e.height/2,0,0,0);if(!l)return;F(e,o)}},F=function(t,r){if(r.colors&&r.colors.length||r.textures&&r.textures.length){var e=t.$gl;e.enable(e.BLEND),e.enable(e.DEPTH_TEST),r.opacity&&e.disable(e.DEPTH_TEST);var n,a,i,c,s=r.vertices.$cacheBuffer;if(s||(s=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,r.vertices,e.STATIC_DRAW),r.vertices.$cacheBuffer=s),r.colors?(n=r.colors.$cacheBuffer,n||(n=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,r.colors,e.STATIC_DRAW),r.colors.$cacheBuffer=n)):(a=r.textures.$cacheBuffer,a||(a=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,r.textures,e.STATIC_DRAW),r.textures.$cacheBuffer=a)),r.indices&&(i=r.indices.$cacheBuffer,i||(i=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i),e.bufferData(e.ELEMENT_ARRAY_BUFFER,r.indices,e.STATIC_DRAW),r.indices.$cacheBuffer=i)),r.normals&&(c=r.normals.$cacheBuffer,c||(c=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,r.normals,e.STATIC_DRAW),r.normals.$cacheBuffer=c)),n){b(e,0,t.webgl.light!==!1),e.bindBuffer(e.ARRAY_BUFFER,n);var u=3,l=e.UNSIGNED_BYTE,f=!0,v=0,d=0;e.vertexAttribPointer(e.colorLocation,u,l,f,v,d)}else if(a){b(e,1,t.webgl.light!==!1),e.bindBuffer(e.ARRAY_BUFFER,a);var u=2,l=e.FLOAT,f=!1,v=0,d=0;e.vertexAttribPointer(e.texcoordLocation,u,l,f,v,d)}if(r.vertices){e.bindBuffer(e.ARRAY_BUFFER,s);var u=3,l=e.FLOAT,f=!1,v=0,d=0;e.vertexAttribPointer(e.positionLocation,u,l,f,v,d)}if(r.normals){e.bindBuffer(e.ARRAY_BUFFER,c);var u=3,l=e.FLOAT,f=!1,v=0,d=0;e.vertexAttribPointer(e.normalLocation,u,l,f,v,d)}if(t.webgl.fudgeFactor){var g=e.getUniformLocation(e.program,"u_fudgeFactor"),p=t.webgl.fudgeFactor;e.uniform1f(g,p)}var m=e.orthographic;m=x.translate(m,r.tx||0,r.ty||0,r.tz||0),m=x.xRotate(m,o(r.rx)||0),m=x.yRotate(m,o(r.ry)||0),m=x.zRotate(m,o(r.rz)||0),m=x.scale(m,r.scaleX||r.scale||1,r.scaleY||r.scale||1,r.scaleZ||r.scale||1);var A=m;if(t.webgl.camera)var _=(o(60),o(0),o(0),[o(h.default.funcOrValue(t.webgl.camera.rx||0,t)),o(h.default.funcOrValue(t.webgl.camera.ry||0,t)),1]),w=[0,1,0],y=x.lookAt(_,A,w),R=x.inverse(y),A=x.multiply(A,R);e.uniformMatrix4fv(e.worldViewProjectionLocation,!1,m),e.uniformMatrix4fv(e.worldInverseTransposeLocation,!1,x.transpose(A)),e.uniformMatrix4fv(e.matrixLocation,!1,A);var E=e.getUniformLocation(e.program,"a_color");e.uniform4fv(E,window.a||[1,1,1,1]),e.uniform3fv(e.reverseLightDirectionLocation,x.normalize(window.b||[0,1,0])),e.uniform1i(e.textureLocation,0),i?(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i),e.drawElements(e.TRIANGLES,r.indices.length,e.UNSIGNED_SHORT,0)):e.drawArrays(e.TRIANGLES,0,r.vertices.length/3)}},L=function(t,r,e,n,o,i,c,s,u,l,f,v,d){var h=t.$gl;if(h.enable(h.BLEND),h.disable(h.DEPTH_TEST),b(h,1),!a){a=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,a);var g=[0,0,0,1,1,0,1,0,0,1,1,1];h.bufferData(h.ARRAY_BUFFER,new Float32Array(g),h.STATIC_DRAW)}h.bindBuffer(h.ARRAY_BUFFER,a),h.vertexAttribPointer(h.positionLocation,2,h.FLOAT,!1,0,0),h.vertexAttribPointer(h.texcoordLocation,2,h.FLOAT,!1,0,0);var p=h.orthographic;if(p=x.translate(p,u,l,0),d.rotate&&(p=x.translate(p,-u+d.beforeRotate[0]||0,-l+d.beforeRotate[1]||0,0),p=x.zRotate(p,d.rotate),p=x.translate(p,u+d.afterRotate[0]||0,l+d.afterRotate[1]||0,0)),p=x.scale(p,f,v,1),h.uniformMatrix4fv(h.matrixLocation,!1,p),o||i||c!==e||s!==n){var m=x.translation(o/e,i/n,0);m=x.scale(m,c/e,s/n,1),h.uniformMatrix4fv(h.textureMatrixLocation,!1,m)}h.drawArrays(h.TRIANGLES,0,6)},M=function(t,r){t.$isWebgl=!0,t.webgl={},i(t.webgl,r.webgl),t.webgl.depth=t.webgl.depth||1e4;var e=t.$gl=t.$paintContext;e.orthographic=x.orthographic(0,t.width,t.height,0,-t.webgl.depth,t.webgl.depth),e.clearColor(0,0,0,0),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),b(e,0),t.imgLoader=function(t,r){var n=e.createTexture(),o={width:0,height:0};return(0,A.default)(t,function(t){function a(t){var a=new Image;a.addEventListener("load",function(){o.width=a.width,o.height=a.height,o.texture=n,o.img=a,e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,a),r&&r(o)}),a.src=t}a(t,r)}),o}},B=function(t){t.webgl&&(this.$paintContext=this.$dom.getContext("webgl",{alpha:!0,premultipliedAlpha:!1}),this.$paintContext?M(this,t):("production"!==process.env.NODE_ENV&&w("Webgl is not supported in current browser, using canvas2d instead."),t.webgl.fallback&&t.webgl.fallback.call(this)))},D=function(){var t=this,r=this.$canvas;if(t.webgl){t.$rendered=!0,"string"==typeof t.webgl.img&&(t.webgl.img=r.imgLoader(t.webgl.img));var e={tx:t.getStyle("tx"),ty:t.getStyle("ty"),tz:h.default.funcOrValue(t.webgl.tz,t)||0};for(var n in t.webgl)e[n]=h.default.funcOrValue(t.webgl[n],t)||0;var o={$id:t.$id,type:"3d",webgl:e};"production"!==process.env.NODE_ENV&&(o.$origin=t),r.$children.push(o)}},U=function(t,r){var e=this;if(e.$isWebgl)return T(t,r,e),!0},P=function(t){t.webglShapes=l.default},S={onCreate:B,onPaint:D,onRender:U,onUse:P};_&&window.Easycanvas?(Easycanvas.use(S),P(Easycanvas)):t.exports=S},63:function(t,r){"use strict";var e=function(t,r){var e="\n        attribute vec4 a_position;\n        "+(0===t?"attribute vec4 a_color;":"attribute vec2 a_texcoord;")+"\n        "+(r&&"\n            attribute vec3 a_normal;\n            uniform mat4 u_worldViewProjection;\n            uniform mat4 u_worldInverseTranspose;\n        "||"")+"\n        uniform float u_fudgeFactor; // 透射\n\n        uniform mat4 u_matrix;\n\n        "+(0===t?"varying vec4 v_color;":"varying vec2 v_texcoord;")+"\n        "+(r&&"\n            varying vec3 v_normal;\n        "||"")+"\n\n        void main() {\n            // Multiply the position by the matrix.\n            // gl_Position = u_matrix * a_position;\n\n            // 透射\n            // 调整除数\n            vec4 position = u_matrix * a_position;\n            // 由于裁减空间中的 Z 值是 -1 到 +1 的，所以 +1 是为了让 zToDivideBy 变成 0 到 +2 * fudgeFactor\n            float zToDivideBy = 1.0 + position.z * u_fudgeFactor; // 透射\n\n            "+(r?"gl_Position = u_worldViewProjection * a_position;":"gl_Position = vec4(position.xy / zToDivideBy, position.zw);")+"\n\n            // gl_Position = u_worldViewProjection * vec4(position.xy / zToDivideBy, position.zw);\n\n            "+(0===t?"v_color = a_color;":"v_texcoord = a_texcoord;")+"\n\n                "+(r&&"\n                    v_normal = mat3(u_worldInverseTranspose) * a_normal;\n                "||"")+"\n        }\n    ";return e},n=function(t,r){var e="\n        precision mediump float;\n\n        "+(0===t?"varying vec4 v_color;":"varying vec2 v_texcoord;")+"\n\n        uniform sampler2D u_texture;\n\n        "+(r&&"\n            varying vec3 v_normal;\n            uniform vec3 u_reverseLightDirection;\n        "||"")+"\n\n        void main() {\n            "+(r&&"\n                vec3 normal = normalize(v_normal);\n                float light = dot(normal, u_reverseLightDirection);\n            "||"")+"\n\n            "+(0===t?"gl_FragColor = v_color;":"gl_FragColor = texture2D(u_texture, v_texcoord);")+"\n\n            "+(r&&"\n                light += 2.0;\n                light *= 0.5;\n                gl_FragColor.rgb *= light;\n            "||"")+"\n        }\n    ";return e};t.exports={shaderVertexFactory:e,shaderFragmentFactory:n,factory:function(t,r){return r===t.FRAGMENT_SHADER?n:e}}},64:function(t,r){"use strict";function e(t,r){for(var e=t.length,n=Array(Math.round(e*r)),o=0,a=n.length;a>o;o++)n[o]=t[o%e];return n}var n=Object.assign||function(t){for(var r=1;arguments.length>r;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},o=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),a=new Float32Array(e([0,0,0,1,1,1,1,0],6)),i=6,c={icosahedron:{vertices:[0,0,-1.902,0,0,1.902,-1.701,0,-.8507,1.701,0,.8507,1.376,-1,-.8507,1.376,1,-.8507,-1.376,-1,.8507,-1.376,1,.8507,-.5257,-1.618,-.8507,-.5257,1.618,-.8507,.5257,-1.618,.8507,.5257,1.618,.8507],indices:[[1,11,7],[1,7,6],[1,6,10],[1,10,3],[1,3,11],[4,8,0],[5,4,0],[9,5,0],[2,9,0],[8,2,0],[11,9,7],[7,2,6],[6,8,10],[10,4,3],[3,5,11],[4,10,8],[5,3,4],[9,11,5],[2,7,9],[8,6,2]]},tetrahedron:{vertices:[0,0,1.225,-.5774,-1,-.4082,-.5774,1,-.4082,1.155,0,-.4082],indices:[[1,2,3],[2,1,0],[3,0,1],[0,3,2]]},octahedron:{vertices:[1,1,0,0,1,0,.9510565162951535,1,.3090169943749474,.9510565162951535,1,.3090169943749474,0,1,0,.8090169943749475,1,.5877852522924731,.8090169943749475,1,.5877852522924731,0,1,0,.5877852522924731,1,.8090169943749475,.5877852522924731,1,.8090169943749475,0,1,0,.30901699437494745,1,.9510565162951535,.30901699437494745,1,.9510565162951535,0,1,0,6.123233995736766e-17,1,1,6.123233995736766e-17,1,1,0,1,0,-.30901699437494734,1,.9510565162951536,-.30901699437494734,1,.9510565162951536,0,1,0,-.587785252292473,1,.8090169943749475,-.587785252292473,1,.8090169943749475,0,1,0,-.8090169943749473,1,.5877852522924732,-.8090169943749473,1,.5877852522924732,0,1,0,-.9510565162951535,1,.3090169943749475,-.9510565162951535,1,.3090169943749475,0,1,0,-1,1,1.2246467991473532e-16,-1,1,1.2246467991473532e-16,0,1,0,-.9510565162951536,1,-.3090169943749473,-.9510565162951536,1,-.3090169943749473,0,1,0,-.8090169943749475,1,-.587785252292473,-.8090169943749475,1,-.587785252292473,0,1,0,-.5877852522924732,1,-.8090169943749473,-.5877852522924732,1,-.8090169943749473,0,1,0,-.30901699437494756,1,-.9510565162951535,-.30901699437494756,1,-.9510565162951535,0,1,0,-1.8369701987210297e-16,1,-1,-1.8369701987210297e-16,1,-1,0,1,0,.30901699437494723,1,-.9510565162951536,.30901699437494723,1,-.9510565162951536,0,1,0,.5877852522924729,1,-.8090169943749476,.5877852522924729,1,-.8090169943749476,0,1,0,.8090169943749473,1,-.5877852522924734,.8090169943749473,1,-.5877852522924734,0,1,0,.9510565162951535,1,-.3090169943749476,.9510565162951535,1,-.3090169943749476,0,1,0,1,1,-2.4492935982947064e-16,.9510565162951535,-1,.3090169943749474,0,-1,0,1,-1,0,.8090169943749475,-1,.5877852522924731,0,-1,0,.9510565162951535,-1,.3090169943749474,.5877852522924731,-1,.8090169943749475,0,-1,0,.8090169943749475,-1,.5877852522924731,.30901699437494745,-1,.9510565162951535,0,-1,0,.5877852522924731,-1,.8090169943749475,6.123233995736766e-17,-1,1,0,-1,0,.30901699437494745,-1,.9510565162951535,-.30901699437494734,-1,.9510565162951536,0,-1,0,6.123233995736766e-17,-1,1,-.587785252292473,-1,.8090169943749475,0,-1,0,-.30901699437494734,-1,.9510565162951536,-.8090169943749473,-1,.5877852522924732,0,-1,0,-.587785252292473,-1,.8090169943749475,-.9510565162951535,-1,.3090169943749475,0,-1,0,-.8090169943749473,-1,.5877852522924732,-1,-1,1.2246467991473532e-16,0,-1,0,-.9510565162951535,-1,.3090169943749475,-.9510565162951536,-1,-.3090169943749473,0,-1,0,-1,-1,1.2246467991473532e-16,-.8090169943749475,-1,-.587785252292473,0,-1,0,-.9510565162951536,-1,-.3090169943749473,-.5877852522924732,-1,-.8090169943749473,0,-1,0,-.8090169943749475,-1,-.587785252292473,-.30901699437494756,-1,-.9510565162951535,0,-1,0,-.5877852522924732,-1,-.8090169943749473,-1.8369701987210297e-16,-1,-1,0,-1,0,-.30901699437494756,-1,-.9510565162951535,.30901699437494723,-1,-.9510565162951536,0,-1,0,-1.8369701987210297e-16,-1,-1,.5877852522924729,-1,-.8090169943749476,0,-1,0,.30901699437494723,-1,-.9510565162951536,.8090169943749473,-1,-.5877852522924734,0,-1,0,.5877852522924729,-1,-.8090169943749476,.9510565162951535,-1,-.3090169943749476,0,-1,0,.8090169943749473,-1,-.5877852522924734,1,-1,-2.4492935982947064e-16,0,-1,0,.9510565162951535,-1,-.3090169943749476,1,1,0,.9510565162951535,1,.3090169943749474,.9510565162951535,-1,.3090169943749474,1,1,0,.9510565162951535,-1,.3090169943749474,1,-1,0,.9510565162951535,1,.3090169943749474,.8090169943749475,1,.5877852522924731,.8090169943749475,-1,.5877852522924731,.9510565162951535,1,.3090169943749474,.8090169943749475,-1,.5877852522924731,.9510565162951535,-1,.3090169943749474,.8090169943749475,1,.5877852522924731,.5877852522924731,1,.8090169943749475,.5877852522924731,-1,.8090169943749475,.8090169943749475,1,.5877852522924731,.5877852522924731,-1,.8090169943749475,.8090169943749475,-1,.5877852522924731,.5877852522924731,1,.8090169943749475,.30901699437494745,1,.9510565162951535,.30901699437494745,-1,.9510565162951535,.5877852522924731,1,.8090169943749475,.30901699437494745,-1,.9510565162951535,.5877852522924731,-1,.8090169943749475,.30901699437494745,1,.9510565162951535,6.123233995736766e-17,1,1,6.123233995736766e-17,-1,1,.30901699437494745,1,.9510565162951535,6.123233995736766e-17,-1,1,.30901699437494745,-1,.9510565162951535,6.123233995736766e-17,1,1,-.30901699437494734,1,.9510565162951536,-.30901699437494734,-1,.9510565162951536,6.123233995736766e-17,1,1,-.30901699437494734,-1,.9510565162951536,6.123233995736766e-17,-1,1,-.30901699437494734,1,.9510565162951536,-.587785252292473,1,.8090169943749475,-.587785252292473,-1,.8090169943749475,-.30901699437494734,1,.9510565162951536,-.587785252292473,-1,.8090169943749475,-.30901699437494734,-1,.9510565162951536,-.587785252292473,1,.8090169943749475,-.8090169943749473,1,.5877852522924732,-.8090169943749473,-1,.5877852522924732,-.587785252292473,1,.8090169943749475,-.8090169943749473,-1,.5877852522924732,-.587785252292473,-1,.8090169943749475,-.8090169943749473,1,.5877852522924732,-.9510565162951535,1,.3090169943749475,-.9510565162951535,-1,.3090169943749475,-.8090169943749473,1,.5877852522924732,-.9510565162951535,-1,.3090169943749475,-.8090169943749473,-1,.5877852522924732,-.9510565162951535,1,.3090169943749475,-1,1,1.2246467991473532e-16,-1,-1,1.2246467991473532e-16,-.9510565162951535,1,.3090169943749475,-1,-1,1.2246467991473532e-16,-.9510565162951535,-1,.3090169943749475,-1,1,1.2246467991473532e-16,-.9510565162951536,1,-.3090169943749473,-.9510565162951536,-1,-.3090169943749473,-1,1,1.2246467991473532e-16,-.9510565162951536,-1,-.3090169943749473,-1,-1,1.2246467991473532e-16,-.9510565162951536,1,-.3090169943749473,-.8090169943749475,1,-.587785252292473,-.8090169943749475,-1,-.587785252292473,-.9510565162951536,1,-.3090169943749473,-.8090169943749475,-1,-.587785252292473,-.9510565162951536,-1,-.3090169943749473,-.8090169943749475,1,-.587785252292473,-.5877852522924732,1,-.8090169943749473,-.5877852522924732,-1,-.8090169943749473,-.8090169943749475,1,-.587785252292473,-.5877852522924732,-1,-.8090169943749473,-.8090169943749475,-1,-.587785252292473,-.5877852522924732,1,-.8090169943749473,-.30901699437494756,1,-.9510565162951535,-.30901699437494756,-1,-.9510565162951535,-.5877852522924732,1,-.8090169943749473,-.30901699437494756,-1,-.9510565162951535,-.5877852522924732,-1,-.8090169943749473,-.30901699437494756,1,-.9510565162951535,-1.8369701987210297e-16,1,-1,-1.8369701987210297e-16,-1,-1,-.30901699437494756,1,-.9510565162951535,-1.8369701987210297e-16,-1,-1,-.30901699437494756,-1,-.9510565162951535,-1.8369701987210297e-16,1,-1,.30901699437494723,1,-.9510565162951536,.30901699437494723,-1,-.9510565162951536,-1.8369701987210297e-16,1,-1,.30901699437494723,-1,-.9510565162951536,-1.8369701987210297e-16,-1,-1,.30901699437494723,1,-.9510565162951536,.5877852522924729,1,-.8090169943749476,.5877852522924729,-1,-.8090169943749476,.30901699437494723,1,-.9510565162951536,.5877852522924729,-1,-.8090169943749476,.30901699437494723,-1,-.9510565162951536,.5877852522924729,1,-.8090169943749476,.8090169943749473,1,-.5877852522924734,.8090169943749473,-1,-.5877852522924734,.5877852522924729,1,-.8090169943749476,.8090169943749473,-1,-.5877852522924734,.5877852522924729,-1,-.8090169943749476,.8090169943749473,1,-.5877852522924734,.9510565162951535,1,-.3090169943749476,.9510565162951535,-1,-.3090169943749476,.8090169943749473,1,-.5877852522924734,.9510565162951535,-1,-.3090169943749476,.8090169943749473,-1,-.5877852522924734,.9510565162951535,1,-.3090169943749476,1,1,-2.4492935982947064e-16,1,-1,-2.4492935982947064e-16,.9510565162951535,1,-.3090169943749476,1,-1,-2.4492935982947064e-16,.9510565162951535,-1,-.3090169943749476],indices:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239],normals:[0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.2360679774997885,0,0,3.2360679774997885,0,0,3.2360679774997885,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997885,0,0,3.2360679774997885,0,0,3.2360679774997885,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.2360679774997907,0,0,-3.2360679774997907,0,0,-3.2360679774997907,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997907,0,0,-3.2360679774997907,0,0,-3.2360679774997907,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997885,0,0,-3.2360679774997885,0,0,-3.2360679774997885,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002]
},cube:{vertices:[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1],indices:[[7,3,1,5],[7,5,4,6],[7,6,2,3],[3,2,0,1],[0,2,6,4],[1,0,4,5]]}},s=function(){var t={};return function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=r+n.join(",")+i.join(","),u={};if("quadrilateral"===r);else if("block"===r){var l=n[0]/2,f=n[1]/2,v=n[2]/2,d=t[s+"v"]||new Float32Array([l,f,v,-l,f,v,-l,-f,v,l,-f,v,l,f,v,l,-f,v,l,-f,-v,l,f,-v,l,f,v,l,f,-v,-l,f,-v,-l,f,v,-l,f,v,-l,f,-v,-l,-f,-v,-l,-f,v,-l,-f,-v,l,-f,-v,l,-f,v,-l,-f,v,l,-f,-v,-l,-f,-v,-l,f,-v,l,f,-v]),h=t[s+"l"]||Math.max(Math.max.apply(void 0,d),-Math.min.apply(void 0,d));u.vertices=t[s+"v"]=d,u.indices=o,u.textures=a,u.longSide=t[s+"l"]=h}else if("ball"===r){var g=t[s+"v"]||[],p=t[s+"i"]||[],m=t[s+"t"]||[];if(!g.length){for(var A=[],x=n[0],_=n[1],w=n[2],y=0;_>=y;y++)for(var R=y*Math.PI/_,b=Math.sin(R),E=Math.cos(R),T=0;w>=T;T++){var F=2*T*Math.PI/w,L=Math.sin(F),M=Math.cos(F),B=M*b,D=E,U=L*b,P=1-T/w,S=1-y/_;A.push(B),A.push(D),A.push(U),m.push(P),m.push(S),g.push(x*B),g.push(x*D),g.push(x*U)}for(var y=0;_>y;y++)for(var T=0;w>T;T++){var $=y*(w+1)+T,I=$+w+1;p.push($),p.push(I),p.push($+1),p.push(I),p.push(I+1),p.push($+1)}t[s+"v"]=new Float32Array(g),t[s+"i"]=new Uint16Array(p),t[s+"t"]=new Float32Array(m),t[s+"l"]=Math.max(Math.max.apply(void 0,d),-Math.min.apply(void 0,g))}u.vertices=t[s+"v"],u.indices=t[s+"i"],u.textures=t[s+"t"],u.longSide=t[s+"l"]}else{var d=t[s+"v"]||new Float32Array(c[r].vertices.map(function(t){return t*n[0]/2})),h=t[s+"l"]||Math.max(Math.max.apply(void 0,d),-Math.min.apply(void 0,d));if(u.vertices=t[s+"v"]=d,u.indices=new Uint16Array(c[r].indices.join(",").split(",")),u.textures=t[s+"t"],!u.textures){u.textures=[];for(var N=0;u.indices.length>N;N++)u.textures.push(Math.random().toFixed(2));u.textures=t[s+"t"]=new Float32Array(u.textures)}u.longSide=t[s+"l"]=h}if(i.length&&(u.colors=t[s+"c"],!u.colors)){var O=(u.indices||u.vertices).length/i.length*(u.indices?3:1);u.colors=new Uint8Array(e(i,Math.ceil(O))),t[s+"c"]=u.colors}return u}}(),u=function(t,r){for(var e in r)t[e]||(t[e]=r[e]);return t},l=function(t){console.error("[Easycanvas-webgl] "+t)},f={block:function(t){var r=s("block",[t.a,t.b,t.c],t.colors);return u(r,t)},quadrilateral:function(t){var r=s("quadrilateral",[t.a,t.b,t.c],t.colors);return u(r,t)},ball:function(t){var r=s("ball",[t.r,t.b||t.lat||20,t.b||t.lng||20],t.colors);return u(r,t)},custom:function(t){if("production"!==process.env.NODE_ENV&&!t.vertices)return void l("No vertices provided on custom shape.");if(t.vertices.$cache||(t.vertices.$cache=new Float32Array(t.vertices)),t.normals&&(t.normals.$cache||(t.normals.$cache=new Float32Array(t.normals))),t.indices&&(t.indices.$cache||(t.indices.$cache=new Uint16Array(t.indices))),t.textures&&(t.textures.$cache||(t.textures.$cache=new Float32Array(t.textures))),t.colors&&!t.colors.$cache){var r=t.vertices.length/t.colors.length;t.colors.$cache=new Uint8Array(e(t.colors,r))}var o=n(t,{vertices:t.vertices.$cache,normals:t.normals?t.normals.$cache:void 0,indices:t.indices?t.indices.$cache:void 0,textures:t.textures?t.textures.$cache:void 0,colors:t.colors?t.colors.$cache:void 0});return o}},v=function(t){f[t]=function(r){var e=s(t,[r.r],r.colors);return e.type=i,u(e,r)}};for(var d in c)v(d);t.exports=f},66:function(t,r,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=e(3),a=n(o);t.exports=function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments[4],i=arguments[5],c=arguments[6],s=arguments[7],u=arguments[8],l=arguments[9],f=arguments[10],v=t+e/2,d=r+n/2,h=Math.max(e,n)+Math.max(c,s);if(f){var g=(0,a.default)(v,d,u,l,f);v=g.x,d=g.y}return Math.pow(v-(o+c/2),2)+Math.pow(d-(i+i/2),2)<Math.pow(h,2)}}})});